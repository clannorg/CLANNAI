# GAA Events Schema Specification

## Overview
This document defines the schema for GAA (Gaelic Athletic Association) match events used in the ClannAI system.

## Core Event Structure

```typescript
interface Event {
  id: string;                    // Unique identifier for the event
  time: number;                  // Time in seconds from match start
  team: TeamType;                // Which team performed the action
  action: ActionType;            // Type of action performed
  outcome: OutcomeType;          // Result of the action
  autoGenerated?: boolean;       // Whether event was auto-generated
  validated: boolean;            // Whether event has been validated
}
```

## Enums and Types

### TeamType
```typescript
type TeamType = 'red' | 'blue';
```

### ActionType
```typescript
type ActionType = 
  | 'Throw-up'           // Match start/restart
  | 'Turnover'           // Possession change
  | 'Kickout'            // Goalkeeper kick
  | 'Kick-in'            // Sideline kick
  | 'Shot'               // Attempt to score
  | 'Foul'               // Rule violation
  | 'Yellow Card'        // Caution
  | 'Black Card'         // Temporary dismissal
  | 'Red Card'           // Permanent dismissal
  | 'Half Time Whistle'  // End of first half
  | 'Full Time Whistle'; // End of match
```

### OutcomeType
```typescript
type OutcomeType = 
  | 'Won'                // Successfully gained possession
  | 'Lost'               // Lost possession
  | 'N/A'                // Not applicable
  // Shot-specific outcomes
  | '1Point'             // 1 point scored (over the bar)
  | '2Point'             // 2 points scored (rare)
  | 'Goal'               // 3 points scored (under the bar)
  | 'Wide'               // Shot missed
  | 'Saved'              // Shot blocked by goalkeeper
  // Foul-specific outcomes
  | 'Awarded To';        // Foul awarded to specified team
```

## Match Structure

### Team Information
```typescript
interface TeamInfo {
  id: string;
  name: string;
  color: TeamType;
  score: number;
}
```

### Match Time Markers
```typescript
interface MatchTimeMarkers {
  firstHalfStart: number;    // Start of first half (seconds)
  halfTime: number;          // Half time whistle (seconds)
  secondHalfStart: number;   // Start of second half (seconds)
  fullTime: number;          // Full time whistle (seconds)
}
```

## Sample Event Data

```json
{
  "match_info": {
    "title": "GAA Match - Timeline Events",
    "description": "Key match transitions detected with exact timing",
    "total_events": 4,
    "analysis_method": "AI video analysis with manual correction"
  },
  "events": [
    {
      "time": 135.0,
      "team": "Match Officials",
      "action": "First Half Start",
      "outcome": "Throw-in ceremony completed",
      "confidence": 1.0,
      "validated": true
    },
    {
      "time": 1980.0,
      "team": "Match Officials",
      "action": "First Half End",
      "outcome": "Halftime break begins",
      "confidence": 1.0,
      "validated": true
    }
  ]
}
```

## Action-Outcome Combinations

### Common Valid Combinations:
- **Throw-up**: `Won` | `Lost`
- **Turnover**: `Won` | `Lost`
- **Kickout**: `Won` | `Lost`
- **Kick-in**: `Won` | `Lost`
- **Shot**: `1Point` | `2Point` | `Goal` | `Wide` | `Saved`
- **Foul**: `Awarded To`
- **Cards**: `N/A`
- **Whistles**: `N/A`

## Validation Rules

1. **Time**: Must be positive number in seconds
2. **Team**: Must be 'red' or 'blue' (except for officials)
3. **Action-Outcome**: Must be valid combination
4. **Sequence**: Events should be chronologically ordered
5. **Possession**: Turnover events should alternate team possession

## Notes for AI Processing

- Events represent discrete moments in a GAA match
- Time is measured in seconds from match start
- Team colors ('red'/'blue') are used instead of actual team names
- Match officials events use different team naming convention
- Validation ensures logical game flow and rule compliance 